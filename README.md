# Pandas SQL Tool (pandasqltool)

Pandas SQL Tool is a tool that enables you to do all your data manipulation using full-fledged SQL (using SQLite3) where you have full access to the relational model, where everything is logical and makes sense, and you're not spending hours of your time Googling cryptic error messages from Pandas! Only when you've finished all your data manuiplation do you pull your out results as a Pandas dataframe, to hand off to plotting software or statistics software or whatever requires a Pandas dataframe as input!

Pandas is essentially an attempt at porting R dataframes to Python, but it is not an ideal port. Maybe it's impossible to port R dataframes to Python in a way that's perfectly "Pythonic". The problem is, once you go beyond simply constructing dataframes and passing them into various packages that use them, Pandas dataframes are difficult to work with, and this is especially the case when you try to manipulate data in dataframes, which on the surface looks easy because Pandas provides a lot of common calculations that you might want to do. But rather than being easy, cryptic error messages expose details of internal data structures that are non-intuitive to the user, that can result in hours of Googling and frustration. The solution is simply to not use Pandas for data manipulation at all. Drop your data into SQL. You may need to rewrite or find alternative packages for calculations provided by Pandas, but you will be better off in the long run. SQL is based on the relational model, a robust "universal" data model grounded mathematically in set theory and which has withstood the test of time. It is rock solid, logical, and when you get error messages, they will make sense and you will know how to fix them.

Pandas SQL Tool makes this easy. Generally what you will want to do is use csv_to_database() to bring in a CSV file as an SQL database, then manipulate your database as desired, such as adding columns made from compuations on the previous columns, or importing another CSV and doing JOINs between the two, and finally call sql_to_dataframe() to get your final dataframe.

If you have data in sources other than CSV, you will need to write that importer yourself (feel free to contribute it back to the Pandas SQL Tool project). Once in SQL you can do any data manipulations you can imagine. Only on the very last step, once you have done all your data manipulations, do you issue an SQL query -- any query! -- and out pops a Pandas dataframe with the results of that query!

In addition, this module has some "helper" functions such as dict_to_insert() and dict_to_update() to make it easy to turn Python dictionaries into SQL INSERT and UPDATE statements, escapestring() so your strings are properly escaped for storage (used automatically by dict_to_insert and dict_to_update but available to you if you decide to write your own SQL INSERTs and UPDATEs), and the function map_column() creates a new column by mapping a value from one existing column through a function that you pass in, which will help you do common calculations provided by Pandas.

To get started, pull out the set_up_example_db() function and modify it to handle your own data. Additional documentation is in the comments accompanying each function.
